start:
  # x1=0x2000
  lui x1, 2

  # Layer 0
  lv v2, x1, l0-data+0
  lv v3, x1, l0-data+32
  lv v4, x1, l0-data+64
  lv v5, x1, l0-data+96
  lv v6, x1, l0-data+128
  lv v7, x1, l0-data+160
  lv v8, x1, l0-data+192
  lv v9, x1, l0-data+224

  # Layer 1
  lv v10, x1, l1-data+0
  lv v12, x1, l1-data+64
  lv v11, x1, l1-data+32
  lv v13, x1, l1-data+96
  lv v14, x1, l1-data+128
  lv v15, x1, l1-data+160
  lv v16, x1, l1-data+192
  lv v17, x1, l1-data+224

  # Layer 2
  lv v18, x1, l2-data+0
  lv v19, x1, l2-data+32
  lv v20, x1, l2-data+64
  lv v21, x1, l2-data+96
  lv v22, x1, l2-data+128
  lv v23, x1, l2-data+160
  lv v24, x1, l2-data+192
  lv v25, x1, l2-data+224

  # Layer 3
  lv v26, x1, l3-data+0
  lv v27, x1, l3-data+32
  lv v28, x1, l3-data+64

  # Feed forward
  lv v1, x1, iris3-data

  # Input -> Layer 0
  mulmv v1, v2, v1 # MULMV v1=(v2:v9)*v1
  # Bias
  lv v30, x1, b0-data
  addv v1, v1, v30
  # ReLu
  ltv v1, v0
  movmv v1, v0

  # Layer 1 -> Layer 2
  mulmv v1, v10, v1 # MULMV v1=(v10:v17)*v1
  lv v30, x1, b1-data
  addv v1, v1, v30
  # ReLu
  ltv v1, v0
  movmv v1, v0

  # Layer 2 -> Layer 3
  mulmv v1, v18, v1 # MULMV v1=(v18:v25)*v1
  lv v30, x1, b2-data
  addv v1, v1, v30
  # ReLu
  ltv v1, v0
  movmv v1, v0

  # Layer 3 -> Out
  mulmv v1, v26, v1 # MULMV v1=(v26:v28)*v1
  lv v30, x1, b3-data
  addv v1, v1, v30
  # ReLu
  ltv v1, v0
  movmv v1, v0

  # Write someting to hex display
  addi x31, x0, -16 # x31 = 0xFFFFFFF0

  lui x2, 0x12345
  addi x2, x2, 0x678

  # 1st panel
  sb x2, x31, 0
  srai x2, x2, 8
  # 2nd panel
  sb x2, x31, 1
  srai x2, x2, 8
  # 3rd panel
  sb x2, x31, 2
  srai x2, x2, 8

loop:
  jal x0, loop

org 0x2000
data:
l0:
dat 0x04f40c54, 0xfe1ff6ca, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000
dat 0xffff0000, 0x00190102, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000
dat 0x057f01f9, 0xf6f3fb68, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000
dat 0xf7f8f924, 0x02b30819, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000
dat 0x0003ff3c, 0x0000fff8, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000
dat 0xf5c5f7c6, 0x09420587, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000
dat 0xff7900fb, 0x0030ffdf, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000
dat 0xf580fb91, 0x084702b3, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000
b0:
dat 0xfaa5054a, 0x07fc0600, 0x064bffe2, 0x0811fd0f, 0x00000000, 0x00000000, 0x00000000, 0x00000000
l1:
dat 0x006bfc7c, 0x07e3fc4b, 0x06adfffd, 0x09390000, 0x00000000, 0x00000000, 0x00000000, 0x00000000
dat 0x000004ea, 0x068902a6, 0x016e0000, 0x059a0040, 0x00000000, 0x00000000, 0x00000000, 0x00000000
dat 0xffd50000, 0x0000ff89, 0xfff80000, 0xfff5ffb2, 0x00000000, 0x00000000, 0x00000000, 0x00000000
dat 0x00000a8b, 0xf82b06b3, 0xf7dd0003, 0xfd35fffd, 0x00000000, 0x00000000, 0x00000000, 0x00000000
dat 0x000dffd5, 0xffcf0000, 0x00000000, 0xffd6001a, 0x00000000, 0x00000000, 0x00000000, 0x00000000
dat 0x00000875, 0xf8bb0732, 0xfbdeffb9, 0xf7b3fffb, 0x00000000, 0x00000000, 0x00000000, 0x00000000
dat 0x00020485, 0xfa600751, 0xf61e0055, 0xfab20000, 0x00000000, 0x00000000, 0x00000000, 0x00000000
dat 0x003604b8, 0x05ea0636, 0xfcc3ffbd, 0xfc8effe8, 0x00000000, 0x00000000, 0x00000000, 0x00000000
b1:
dat 0x05b30838, 0x00b4fd9e, 0x0520fd85, 0x057c0607, 0x00000000, 0x00000000, 0x00000000, 0x00000000
l2:
dat 0x0248fad1, 0x03f80002, 0x040eff76, 0x02a00623, 0x00000000, 0x00000000, 0x00000000, 0x00000000
dat 0x02560436, 0xfa3e0000, 0xfb1c0000, 0xfbb2f88d, 0x00000000, 0x00000000, 0x00000000, 0x00000000
dat 0xff7a032a, 0x00160030, 0xff9c0001, 0xfcb90036, 0x00000000, 0x00000000, 0x00000000, 0x00000000
dat 0x00000000, 0x0000ffc6, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000
dat 0x044a095d, 0xf7cd0000, 0xf85f0000, 0x070bf893, 0x00000000, 0x00000000, 0x00000000, 0x00000000
dat 0x00000046, 0x0003fff9, 0xffd70000, 0xffb4ffdd, 0x00000000, 0x00000000, 0x00000000, 0x00000000
dat 0xffcbfab9, 0x0453ffb7, 0x06940000, 0x00870379, 0x00000000, 0x00000000, 0x00000000, 0x00000000
dat 0x025204f6, 0x08350000, 0x0a250000, 0x06f40798, 0x00000000, 0x00000000, 0x00000000, 0x00000000
b2:
dat 0x03a60167, 0xfd3dfe3e, 0xfb570626, 0x076d002a, 0x00000000, 0x00000000, 0x00000000, 0x00000000
l3:
dat 0xfe7c0290, 0xffb300e0, 0x00f5f7e8, 0x01e10687, 0x00000000, 0x00000000, 0x00000000, 0x00000000
dat 0xf4a7fcb6, 0x00000003, 0x0005011e, 0x0421fb2a, 0x00000000, 0x00000000, 0x00000000, 0x00000000
dat 0x0f6cf6ad, 0x004afec4, 0x000008ac, 0xfaaaff94, 0x00000000, 0x00000000, 0x00000000, 0x00000000
b3:
dat 0x000f03d9, 0x0000021a, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000
iris1:
dat 0x02bf0400, 0x00280119, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000
iris3:
dat 0x018502fd, 0x00e90295, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000, 0x00000000
